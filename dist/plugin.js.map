{"version":3,"file":"plugin.js","sources":["esm/applepay/apple-pay-events.enum.js","esm/googlepay/google-pay-events.enum.js","esm/paymentflow/payment-flow-events.enum.js","esm/paymentsheet/payment-sheet-events.enum.js","esm/index.js","esm/shared/platform.js","esm/web.js"],"sourcesContent":["export var ApplePayEventsEnum;\r\n(function (ApplePayEventsEnum) {\r\n    ApplePayEventsEnum[\"Loaded\"] = \"applePayLoaded\";\r\n    ApplePayEventsEnum[\"FailedToLoad\"] = \"applePayFailedToLoad\";\r\n    ApplePayEventsEnum[\"Completed\"] = \"applePayCompleted\";\r\n    ApplePayEventsEnum[\"Canceled\"] = \"applePayCanceled\";\r\n    ApplePayEventsEnum[\"Failed\"] = \"applePayFailed\";\r\n})(ApplePayEventsEnum || (ApplePayEventsEnum = {}));\r\n//# sourceMappingURL=apple-pay-events.enum.js.map","export var GooglePayEventsEnum;\r\n(function (GooglePayEventsEnum) {\r\n    GooglePayEventsEnum[\"Loaded\"] = \"googlePayLoaded\";\r\n    GooglePayEventsEnum[\"FailedToLoad\"] = \"googlePayFailedToLoad\";\r\n    GooglePayEventsEnum[\"Completed\"] = \"googlePayCompleted\";\r\n    GooglePayEventsEnum[\"Canceled\"] = \"googlePayCanceled\";\r\n    GooglePayEventsEnum[\"Failed\"] = \"googlePayFailed\";\r\n})(GooglePayEventsEnum || (GooglePayEventsEnum = {}));\r\n//# sourceMappingURL=google-pay-events.enum.js.map","export var PaymentFlowEventsEnum;\r\n(function (PaymentFlowEventsEnum) {\r\n    PaymentFlowEventsEnum[\"Loaded\"] = \"paymentFlowLoaded\";\r\n    PaymentFlowEventsEnum[\"FailedToLoad\"] = \"paymentFlowFailedToLoad\";\r\n    PaymentFlowEventsEnum[\"Opened\"] = \"paymentFlowOpened\";\r\n    PaymentFlowEventsEnum[\"Created\"] = \"paymentFlowCreated\";\r\n    PaymentFlowEventsEnum[\"Completed\"] = \"paymentFlowCompleted\";\r\n    PaymentFlowEventsEnum[\"Canceled\"] = \"paymentFlowCanceled\";\r\n    PaymentFlowEventsEnum[\"Failed\"] = \"paymentFlowFailed\";\r\n})(PaymentFlowEventsEnum || (PaymentFlowEventsEnum = {}));\r\n//# sourceMappingURL=payment-flow-events.enum.js.map","export var PaymentSheetEventsEnum;\r\n(function (PaymentSheetEventsEnum) {\r\n    PaymentSheetEventsEnum[\"Loaded\"] = \"paymentSheetLoaded\";\r\n    PaymentSheetEventsEnum[\"FailedToLoad\"] = \"paymentSheetFailedToLoad\";\r\n    PaymentSheetEventsEnum[\"Completed\"] = \"paymentSheetCompleted\";\r\n    PaymentSheetEventsEnum[\"Canceled\"] = \"paymentSheetCanceled\";\r\n    PaymentSheetEventsEnum[\"Failed\"] = \"paymentSheetFailed\";\r\n})(PaymentSheetEventsEnum || (PaymentSheetEventsEnum = {}));\r\n//# sourceMappingURL=payment-sheet-events.enum.js.map","import { registerPlugin } from '@capacitor/core';\r\nconst Stripe = registerPlugin('Stripe', {\r\n    web: () => import('./web').then(m => new m.StripeWeb()),\r\n});\r\nexport * from './definitions';\r\nexport { Stripe };\r\n//# sourceMappingURL=index.js.map","export const getPlatforms = (win) => setupPlatforms(win);\r\nexport const isPlatform = (winOrPlatform, platform) => {\r\n    if (typeof winOrPlatform === 'string') {\r\n        platform = winOrPlatform;\r\n        winOrPlatform = undefined;\r\n    }\r\n    return getPlatforms(winOrPlatform).includes(platform);\r\n};\r\nexport const setupPlatforms = (win = window) => {\r\n    if (typeof win === 'undefined') {\r\n        return [];\r\n    }\r\n    win.Ionic = win.Ionic || {};\r\n    let platforms = win.Ionic.platforms;\r\n    if (platforms == null) {\r\n        platforms = win.Ionic.platforms = detectPlatforms(win);\r\n        platforms.forEach(p => win.document.documentElement.classList.add(`plt-${p}`));\r\n    }\r\n    return platforms;\r\n};\r\nconst detectPlatforms = (win) => Object.keys(PLATFORMS_MAP).filter(p => PLATFORMS_MAP[p](win));\r\nconst isMobileWeb = (win) => isMobile(win) && !isHybrid(win);\r\nconst isIpad = (win) => {\r\n    // iOS 12 and below\r\n    if (testUserAgent(win, /iPad/i)) {\r\n        return true;\r\n    }\r\n    // iOS 13+\r\n    if (testUserAgent(win, /Macintosh/i) && isMobile(win)) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nconst isIphone = (win) => testUserAgent(win, /iPhone/i);\r\nconst isIOS = (win) => testUserAgent(win, /iPhone|iPod/i) || isIpad(win);\r\nconst isAndroid = (win) => testUserAgent(win, /android|sink/i);\r\nconst isAndroidTablet = (win) => {\r\n    return isAndroid(win) && !testUserAgent(win, /mobile/i);\r\n};\r\nconst isPhablet = (win) => {\r\n    const width = win.innerWidth;\r\n    const height = win.innerHeight;\r\n    const smallest = Math.min(width, height);\r\n    const largest = Math.max(width, height);\r\n    return (smallest > 390 && smallest < 520) &&\r\n        (largest > 620 && largest < 800);\r\n};\r\nconst isTablet = (win) => {\r\n    const width = win.innerWidth;\r\n    const height = win.innerHeight;\r\n    const smallest = Math.min(width, height);\r\n    const largest = Math.max(width, height);\r\n    return (isIpad(win) ||\r\n        isAndroidTablet(win) ||\r\n        ((smallest > 460 && smallest < 820) &&\r\n            (largest > 780 && largest < 1400)));\r\n};\r\nconst isMobile = (win) => matchMedia(win, '(any-pointer:coarse)');\r\nconst isDesktop = (win) => !isMobile(win);\r\nconst isHybrid = (win) => isCordova(win) || isCapacitorNative(win);\r\nconst isCordova = (win) => !!(win['cordova'] || win['phonegap'] || win['PhoneGap']);\r\nconst isCapacitorNative = (win) => {\r\n    const capacitor = win['Capacitor'];\r\n    return !!(capacitor && capacitor.isNative);\r\n};\r\nconst isElectron = (win) => testUserAgent(win, /electron/i);\r\nconst isPWA = (win) => !!(win.matchMedia('(display-mode: standalone)').matches || win.navigator.standalone);\r\nexport const testUserAgent = (win, expr) => expr.test(win.navigator.userAgent);\r\nconst matchMedia = (win, query) => win.matchMedia(query).matches;\r\nconst PLATFORMS_MAP = {\r\n    'ipad': isIpad,\r\n    'iphone': isIphone,\r\n    'ios': isIOS,\r\n    'android': isAndroid,\r\n    'phablet': isPhablet,\r\n    'tablet': isTablet,\r\n    'cordova': isCordova,\r\n    'capacitor': isCapacitorNative,\r\n    'electron': isElectron,\r\n    'pwa': isPWA,\r\n    'mobile': isMobile,\r\n    'mobileweb': isMobileWeb,\r\n    'desktop': isDesktop,\r\n    'hybrid': isHybrid\r\n};\r\n//# sourceMappingURL=platform.js.map","import { WebPlugin } from '@capacitor/core';\r\nimport { isPlatform } from './shared/platform';\r\nimport { PaymentFlowEventsEnum, PaymentSheetEventsEnum } from './definitions';\r\nexport class StripeWeb extends WebPlugin {\r\n    constructor() {\r\n        super({\r\n            name: 'Stripe',\r\n            platforms: ['web'],\r\n        });\r\n    }\r\n    async initialize(options) {\r\n        if (typeof options.publishableKey !== 'string' ||\r\n            options.publishableKey.trim().length === 0) {\r\n            throw new Error('you must provide a valid key');\r\n        }\r\n        this.publishableKey = options.publishableKey;\r\n    }\r\n    async createPaymentSheet(options) {\r\n        var _a;\r\n        if (!this.publishableKey) {\r\n            this.notifyListeners(PaymentSheetEventsEnum.FailedToLoad, null);\r\n            return;\r\n        }\r\n        this.paymentSheet = document.createElement('stripe-payment-sheet');\r\n        (_a = document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(this.paymentSheet);\r\n        await customElements.whenDefined('stripe-payment-sheet');\r\n        this.paymentSheet.publishableKey = this.publishableKey;\r\n        this.paymentSheet.intentClientSecret =\r\n            options.paymentIntentClientSecret;\r\n        this.paymentSheet.intentType = \"payment\";\r\n        this.notifyListeners(PaymentSheetEventsEnum.Loaded, null);\r\n    }\r\n    async presentPaymentSheet() {\r\n        if (!this.paymentSheet) {\r\n            throw new Error();\r\n        }\r\n        const props = await this.paymentSheet.present();\r\n        if (props === undefined) {\r\n            this.notifyListeners(PaymentSheetEventsEnum.Canceled, null);\r\n            return {\r\n                paymentResult: PaymentSheetEventsEnum.Canceled,\r\n            };\r\n        }\r\n        const { detail: { stripe, cardNumberElement }, } = props;\r\n        const result = await stripe.createPaymentMethod({\r\n            type: 'card',\r\n            card: cardNumberElement,\r\n        });\r\n        this.paymentSheet.updateProgress('success');\r\n        this.paymentSheet.remove();\r\n        if (result.error !== undefined) {\r\n            this.notifyListeners(PaymentSheetEventsEnum.Failed, null);\r\n            return {\r\n                paymentResult: PaymentSheetEventsEnum.Failed,\r\n            };\r\n        }\r\n        this.notifyListeners(PaymentSheetEventsEnum.Completed, null);\r\n        return {\r\n            paymentResult: PaymentSheetEventsEnum.Completed,\r\n        };\r\n    }\r\n    async createPaymentFlow(options) {\r\n        var _a;\r\n        if (!this.publishableKey) {\r\n            this.notifyListeners(PaymentFlowEventsEnum.FailedToLoad, null);\r\n            return;\r\n        }\r\n        this.paymentSheet = document.createElement('stripe-payment-sheet');\r\n        (_a = document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(this.paymentSheet);\r\n        await customElements.whenDefined('stripe-payment-sheet');\r\n        this.paymentSheet.publishableKey = this.publishableKey;\r\n        this.paymentSheet.applicationName = \"@capacitor-community/stripe\";\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if (options.hasOwnProperty('paymentIntentClientSecret')) {\r\n            this.paymentSheet.intentType = \"payment\";\r\n            this.paymentSheet.intentClientSecret =\r\n                options.paymentIntentClientSecret;\r\n        }\r\n        else {\r\n            this.paymentSheet.intentType = \"setup\";\r\n            this.paymentSheet.intentClientSecret =\r\n                options.setupIntentClientSecret;\r\n        }\r\n        if (isPlatform(window, 'ios')) {\r\n            this.paymentSheet.buttonLabel = 'Add card';\r\n            this.paymentSheet.sheetTitle = 'Add a card';\r\n        }\r\n        else {\r\n            this.paymentSheet.buttonLabel = 'Add';\r\n        }\r\n        this.notifyListeners(PaymentFlowEventsEnum.Loaded, null);\r\n    }\r\n    async presentPaymentFlow() {\r\n        if (!this.paymentSheet) {\r\n            throw new Error();\r\n        }\r\n        this.notifyListeners(PaymentFlowEventsEnum.Opened, null);\r\n        const props = await this.paymentSheet.present().catch(() => undefined);\r\n        if (props === undefined) {\r\n            this.notifyListeners(PaymentFlowEventsEnum.Canceled, null);\r\n            throw new Error();\r\n        }\r\n        const { detail: { stripe, cardNumberElement }, } = props;\r\n        const { token } = await stripe.createToken(cardNumberElement);\r\n        if (token === undefined || token.card === undefined) {\r\n            throw new Error();\r\n        }\r\n        this.flowStripe = stripe;\r\n        this.flowCardNumberElement = cardNumberElement;\r\n        this.notifyListeners(PaymentFlowEventsEnum.Created, {\r\n            cardNumber: token.card.last4,\r\n        });\r\n        return {\r\n            cardNumber: token.card.last4,\r\n        };\r\n    }\r\n    async confirmPaymentFlow() {\r\n        if (!this.paymentSheet || !this.flowStripe || !this.flowCardNumberElement) {\r\n            throw new Error();\r\n        }\r\n        const result = await this.flowStripe.createPaymentMethod({\r\n            type: 'card',\r\n            card: this.flowCardNumberElement,\r\n        });\r\n        if (result.error !== undefined) {\r\n            this.notifyListeners(PaymentFlowEventsEnum.Failed, null);\r\n        }\r\n        this.paymentSheet.updateProgress('success');\r\n        this.paymentSheet.remove();\r\n        this.notifyListeners(PaymentFlowEventsEnum.Completed, null);\r\n        return {\r\n            paymentResult: PaymentFlowEventsEnum.Completed,\r\n        };\r\n    }\r\n    isApplePayAvailable() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    createApplePay() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    presentApplePay() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    isGooglePayAvailable() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    createGooglePay() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    presentGooglePay() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n}\r\n//# sourceMappingURL=web.js.map"],"names":["ApplePayEventsEnum","GooglePayEventsEnum","PaymentFlowEventsEnum","PaymentSheetEventsEnum","registerPlugin","WebPlugin"],"mappings":"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"}