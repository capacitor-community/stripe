{"version":3,"file":"plugin.cjs.js","sources":["esm/applepay/apple-pay-events.enum.js","esm/googlepay/google-pay-events.enum.js","esm/paymentflow/payment-flow-events.enum.js","esm/paymentsheet/payment-sheet-events.enum.js","esm/index.js","esm/shared/platform.js","esm/web.js"],"sourcesContent":["export var ApplePayEventsEnum;\r\n(function (ApplePayEventsEnum) {\r\n    ApplePayEventsEnum[\"Loaded\"] = \"applePayLoaded\";\r\n    ApplePayEventsEnum[\"FailedToLoad\"] = \"applePayFailedToLoad\";\r\n    ApplePayEventsEnum[\"Completed\"] = \"applePayCompleted\";\r\n    ApplePayEventsEnum[\"Canceled\"] = \"applePayCanceled\";\r\n    ApplePayEventsEnum[\"Failed\"] = \"applePayFailed\";\r\n})(ApplePayEventsEnum || (ApplePayEventsEnum = {}));\r\n//# sourceMappingURL=apple-pay-events.enum.js.map","export var GooglePayEventsEnum;\r\n(function (GooglePayEventsEnum) {\r\n    GooglePayEventsEnum[\"Loaded\"] = \"googlePayLoaded\";\r\n    GooglePayEventsEnum[\"FailedToLoad\"] = \"googlePayFailedToLoad\";\r\n    GooglePayEventsEnum[\"Completed\"] = \"googlePayCompleted\";\r\n    GooglePayEventsEnum[\"Canceled\"] = \"googlePayCanceled\";\r\n    GooglePayEventsEnum[\"Failed\"] = \"googlePayFailed\";\r\n})(GooglePayEventsEnum || (GooglePayEventsEnum = {}));\r\n//# sourceMappingURL=google-pay-events.enum.js.map","export var PaymentFlowEventsEnum;\r\n(function (PaymentFlowEventsEnum) {\r\n    PaymentFlowEventsEnum[\"Loaded\"] = \"paymentFlowLoaded\";\r\n    PaymentFlowEventsEnum[\"FailedToLoad\"] = \"paymentFlowFailedToLoad\";\r\n    PaymentFlowEventsEnum[\"Opened\"] = \"paymentFlowOpened\";\r\n    PaymentFlowEventsEnum[\"Created\"] = \"paymentFlowCreated\";\r\n    PaymentFlowEventsEnum[\"Completed\"] = \"paymentFlowCompleted\";\r\n    PaymentFlowEventsEnum[\"Canceled\"] = \"paymentFlowCanceled\";\r\n    PaymentFlowEventsEnum[\"Failed\"] = \"paymentFlowFailed\";\r\n})(PaymentFlowEventsEnum || (PaymentFlowEventsEnum = {}));\r\n//# sourceMappingURL=payment-flow-events.enum.js.map","export var PaymentSheetEventsEnum;\r\n(function (PaymentSheetEventsEnum) {\r\n    PaymentSheetEventsEnum[\"Loaded\"] = \"paymentSheetLoaded\";\r\n    PaymentSheetEventsEnum[\"FailedToLoad\"] = \"paymentSheetFailedToLoad\";\r\n    PaymentSheetEventsEnum[\"Completed\"] = \"paymentSheetCompleted\";\r\n    PaymentSheetEventsEnum[\"Canceled\"] = \"paymentSheetCanceled\";\r\n    PaymentSheetEventsEnum[\"Failed\"] = \"paymentSheetFailed\";\r\n})(PaymentSheetEventsEnum || (PaymentSheetEventsEnum = {}));\r\n//# sourceMappingURL=payment-sheet-events.enum.js.map","import { registerPlugin } from '@capacitor/core';\r\nconst Stripe = registerPlugin('Stripe', {\r\n    web: () => import('./web').then(m => new m.StripeWeb()),\r\n});\r\nexport * from './definitions';\r\nexport { Stripe };\r\n//# sourceMappingURL=index.js.map","export const getPlatforms = (win) => setupPlatforms(win);\r\nexport const isPlatform = (winOrPlatform, platform) => {\r\n    if (typeof winOrPlatform === 'string') {\r\n        platform = winOrPlatform;\r\n        winOrPlatform = undefined;\r\n    }\r\n    return getPlatforms(winOrPlatform).includes(platform);\r\n};\r\nexport const setupPlatforms = (win = window) => {\r\n    if (typeof win === 'undefined') {\r\n        return [];\r\n    }\r\n    win.Ionic = win.Ionic || {};\r\n    let platforms = win.Ionic.platforms;\r\n    if (platforms == null) {\r\n        platforms = win.Ionic.platforms = detectPlatforms(win);\r\n        platforms.forEach(p => win.document.documentElement.classList.add(`plt-${p}`));\r\n    }\r\n    return platforms;\r\n};\r\nconst detectPlatforms = (win) => Object.keys(PLATFORMS_MAP).filter(p => PLATFORMS_MAP[p](win));\r\nconst isMobileWeb = (win) => isMobile(win) && !isHybrid(win);\r\nconst isIpad = (win) => {\r\n    // iOS 12 and below\r\n    if (testUserAgent(win, /iPad/i)) {\r\n        return true;\r\n    }\r\n    // iOS 13+\r\n    if (testUserAgent(win, /Macintosh/i) && isMobile(win)) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nconst isIphone = (win) => testUserAgent(win, /iPhone/i);\r\nconst isIOS = (win) => testUserAgent(win, /iPhone|iPod/i) || isIpad(win);\r\nconst isAndroid = (win) => testUserAgent(win, /android|sink/i);\r\nconst isAndroidTablet = (win) => {\r\n    return isAndroid(win) && !testUserAgent(win, /mobile/i);\r\n};\r\nconst isPhablet = (win) => {\r\n    const width = win.innerWidth;\r\n    const height = win.innerHeight;\r\n    const smallest = Math.min(width, height);\r\n    const largest = Math.max(width, height);\r\n    return (smallest > 390 && smallest < 520) &&\r\n        (largest > 620 && largest < 800);\r\n};\r\nconst isTablet = (win) => {\r\n    const width = win.innerWidth;\r\n    const height = win.innerHeight;\r\n    const smallest = Math.min(width, height);\r\n    const largest = Math.max(width, height);\r\n    return (isIpad(win) ||\r\n        isAndroidTablet(win) ||\r\n        ((smallest > 460 && smallest < 820) &&\r\n            (largest > 780 && largest < 1400)));\r\n};\r\nconst isMobile = (win) => matchMedia(win, '(any-pointer:coarse)');\r\nconst isDesktop = (win) => !isMobile(win);\r\nconst isHybrid = (win) => isCordova(win) || isCapacitorNative(win);\r\nconst isCordova = (win) => !!(win['cordova'] || win['phonegap'] || win['PhoneGap']);\r\nconst isCapacitorNative = (win) => {\r\n    const capacitor = win['Capacitor'];\r\n    return !!(capacitor && capacitor.isNative);\r\n};\r\nconst isElectron = (win) => testUserAgent(win, /electron/i);\r\nconst isPWA = (win) => !!(win.matchMedia('(display-mode: standalone)').matches || win.navigator.standalone);\r\nexport const testUserAgent = (win, expr) => expr.test(win.navigator.userAgent);\r\nconst matchMedia = (win, query) => win.matchMedia(query).matches;\r\nconst PLATFORMS_MAP = {\r\n    'ipad': isIpad,\r\n    'iphone': isIphone,\r\n    'ios': isIOS,\r\n    'android': isAndroid,\r\n    'phablet': isPhablet,\r\n    'tablet': isTablet,\r\n    'cordova': isCordova,\r\n    'capacitor': isCapacitorNative,\r\n    'electron': isElectron,\r\n    'pwa': isPWA,\r\n    'mobile': isMobile,\r\n    'mobileweb': isMobileWeb,\r\n    'desktop': isDesktop,\r\n    'hybrid': isHybrid\r\n};\r\n//# sourceMappingURL=platform.js.map","import { WebPlugin } from '@capacitor/core';\r\nimport { isPlatform } from './shared/platform';\r\nimport { PaymentFlowEventsEnum, PaymentSheetEventsEnum } from './definitions';\r\nexport class StripeWeb extends WebPlugin {\r\n    constructor() {\r\n        super({\r\n            name: 'Stripe',\r\n            platforms: ['web'],\r\n        });\r\n    }\r\n    async initialize(options) {\r\n        if (typeof options.publishableKey !== 'string' ||\r\n            options.publishableKey.trim().length === 0) {\r\n            throw new Error('you must provide a valid key');\r\n        }\r\n        this.publishableKey = options.publishableKey;\r\n    }\r\n    async createPaymentSheet(options) {\r\n        var _a;\r\n        if (!this.publishableKey) {\r\n            this.notifyListeners(PaymentSheetEventsEnum.FailedToLoad, null);\r\n            return;\r\n        }\r\n        this.paymentSheet = document.createElement('stripe-payment-sheet');\r\n        (_a = document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(this.paymentSheet);\r\n        await customElements.whenDefined('stripe-payment-sheet');\r\n        this.paymentSheet.publishableKey = this.publishableKey;\r\n        this.paymentSheet.intentClientSecret =\r\n            options.paymentIntentClientSecret;\r\n        this.paymentSheet.intentType = \"payment\";\r\n        this.notifyListeners(PaymentSheetEventsEnum.Loaded, null);\r\n    }\r\n    async presentPaymentSheet() {\r\n        if (!this.paymentSheet) {\r\n            throw new Error();\r\n        }\r\n        const props = await this.paymentSheet.present();\r\n        if (props === undefined) {\r\n            this.notifyListeners(PaymentSheetEventsEnum.Canceled, null);\r\n            return {\r\n                paymentResult: PaymentSheetEventsEnum.Canceled,\r\n            };\r\n        }\r\n        const { detail: { stripe, cardNumberElement }, } = props;\r\n        const result = await stripe.createPaymentMethod({\r\n            type: 'card',\r\n            card: cardNumberElement,\r\n        });\r\n        this.paymentSheet.updateProgress('success');\r\n        this.paymentSheet.remove();\r\n        if (result.error !== undefined) {\r\n            this.notifyListeners(PaymentSheetEventsEnum.Failed, null);\r\n            return {\r\n                paymentResult: PaymentSheetEventsEnum.Failed,\r\n            };\r\n        }\r\n        this.notifyListeners(PaymentSheetEventsEnum.Completed, null);\r\n        return {\r\n            paymentResult: PaymentSheetEventsEnum.Completed,\r\n        };\r\n    }\r\n    async createPaymentFlow(options) {\r\n        var _a;\r\n        if (!this.publishableKey) {\r\n            this.notifyListeners(PaymentFlowEventsEnum.FailedToLoad, null);\r\n            return;\r\n        }\r\n        this.paymentSheet = document.createElement('stripe-payment-sheet');\r\n        (_a = document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(this.paymentSheet);\r\n        await customElements.whenDefined('stripe-payment-sheet');\r\n        this.paymentSheet.publishableKey = this.publishableKey;\r\n        this.paymentSheet.applicationName = \"@capacitor-community/stripe\";\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if (options.hasOwnProperty('paymentIntentClientSecret')) {\r\n            this.paymentSheet.intentType = \"payment\";\r\n            this.paymentSheet.intentClientSecret =\r\n                options.paymentIntentClientSecret;\r\n        }\r\n        else {\r\n            this.paymentSheet.intentType = \"setup\";\r\n            this.paymentSheet.intentClientSecret =\r\n                options.setupIntentClientSecret;\r\n        }\r\n        if (isPlatform(window, 'ios')) {\r\n            this.paymentSheet.buttonLabel = 'Add card';\r\n            this.paymentSheet.sheetTitle = 'Add a card';\r\n        }\r\n        else {\r\n            this.paymentSheet.buttonLabel = 'Add';\r\n        }\r\n        this.notifyListeners(PaymentFlowEventsEnum.Loaded, null);\r\n    }\r\n    async presentPaymentFlow() {\r\n        if (!this.paymentSheet) {\r\n            throw new Error();\r\n        }\r\n        this.notifyListeners(PaymentFlowEventsEnum.Opened, null);\r\n        const props = await this.paymentSheet.present().catch(() => undefined);\r\n        if (props === undefined) {\r\n            this.notifyListeners(PaymentFlowEventsEnum.Canceled, null);\r\n            throw new Error();\r\n        }\r\n        const { detail: { stripe, cardNumberElement }, } = props;\r\n        const { token } = await stripe.createToken(cardNumberElement);\r\n        if (token === undefined || token.card === undefined) {\r\n            throw new Error();\r\n        }\r\n        this.flowStripe = stripe;\r\n        this.flowCardNumberElement = cardNumberElement;\r\n        this.notifyListeners(PaymentFlowEventsEnum.Created, {\r\n            cardNumber: token.card.last4,\r\n        });\r\n        return {\r\n            cardNumber: token.card.last4,\r\n        };\r\n    }\r\n    async confirmPaymentFlow() {\r\n        if (!this.paymentSheet || !this.flowStripe || !this.flowCardNumberElement) {\r\n            throw new Error();\r\n        }\r\n        const result = await this.flowStripe.createPaymentMethod({\r\n            type: 'card',\r\n            card: this.flowCardNumberElement,\r\n        });\r\n        if (result.error !== undefined) {\r\n            this.notifyListeners(PaymentFlowEventsEnum.Failed, null);\r\n        }\r\n        this.paymentSheet.updateProgress('success');\r\n        this.paymentSheet.remove();\r\n        this.notifyListeners(PaymentFlowEventsEnum.Completed, null);\r\n        return {\r\n            paymentResult: PaymentFlowEventsEnum.Completed,\r\n        };\r\n    }\r\n    isApplePayAvailable() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    createApplePay() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    presentApplePay() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    isGooglePayAvailable() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    createGooglePay() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n    presentGooglePay() {\r\n        throw this.unimplemented('Not implemented on web.');\r\n    }\r\n}\r\n//# sourceMappingURL=web.js.map"],"names":["ApplePayEventsEnum","GooglePayEventsEnum","PaymentFlowEventsEnum","PaymentSheetEventsEnum","registerPlugin","WebPlugin"],"mappings":"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"}